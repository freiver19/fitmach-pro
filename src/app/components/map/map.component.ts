import { Component, Input, AfterViewInit, ElementRef, ViewChild } from '@angular/core'; @Component({ selector:'app-map', templateUrl:'./map.component.html', styleUrls:['./map.component.scss'] }) export class MapComponent implements AfterViewInit{ @Input() markers:any[]=[]; @ViewChild('mapEl',{static:true}) mapEl!: ElementRef; ngAfterViewInit(){ const el = this.mapEl.nativeElement; const center = { lat: this.markers[0]?.lat || 4.624335, lng: this.markers[0]?.lng || -74.063644 }; // @ts-ignore this.map = new google.maps.Map(el, {center, zoom:12}); this.markers.forEach(m=>{ /* @ts-ignore */ new google.maps.Marker({ position:{lat:m.lat,lng:m.lng}, map:this.map, title:m.title||'' }); }); } }
