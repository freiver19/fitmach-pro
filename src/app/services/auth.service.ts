import { Injectable } from '@angular/core'; @Injectable({providedIn:'root'}) export class AuthService{ demoMode=true; async login(email:string,password:string){ const ulist = JSON.parse(localStorage.getItem('demo_users')||'[]'); const u = ulist.find((x:any)=>x.email===email && x.password===password); if(u) return {user:{email:u.email, role:u.role}}; throw new Error('Credenciales inv√°lidas (demo)'); } async register(email:string,password:string,role:string){ const ulist = JSON.parse(localStorage.getItem('demo_users')||'[]'); ulist.push({email,password,role}); localStorage.setItem('demo_users', JSON.stringify(ulist)); return {user:{email}}; } }
