import { Injectable } from '@angular/core'; import { of } from 'rxjs'; @Injectable({providedIn:'root'}) export class OffersService{ demoMode=true; getOffers(){ return of(JSON.parse(localStorage.getItem('demo_offers')||'[]')); } async createOffer(o:any){ const arr=JSON.parse(localStorage.getItem('demo_offers')||'[]'); o.id='offer_'+Math.random().toString(36).substr(2,9); arr.unshift(o); localStorage.setItem('demo_offers', JSON.stringify(arr)); return o; } async deleteOffer(id:string){ const arr=JSON.parse(localStorage.getItem('demo_offers')||'[]'); const f=arr.filter((x:any)=>x.id!==id); localStorage.setItem('demo_offers', JSON.stringify(f)); return true; } }
